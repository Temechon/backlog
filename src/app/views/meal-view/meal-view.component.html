<h1 class="font-semibold text-2xl mb-12">
    Ajouter un repas
</h1>

<div class="mb-4">
    <label class="block text-gray-700 text-sm font-bold mb-2">
        Nom du plat
    </label>
    <input type="text" [(ngModel)]="meal.name"
        class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
</div>

<div class="mt-8 mb-4">
    <label class="block text-gray-700 text-sm font-bold mb-2">
        Ingr√©dients
    </label>
    <ul class="list-disc pl-5">
        @for (ing of meal.ingredients; track $index) {
        <li class="flex items-center justify-between mb-2 px-2 border-b py-1">
            <span>{{ing.name}}</span>
            <button (click)="deleteIngredient(ing)"
                class="bg-red-500 hover:bg-red-700 text-white text-sm py-1 px-2 rounded focus:outline-none focus:shadow-outline">
                <i class="fas fa-trash-alt"></i>
            </button>
        </li>
        }
    </ul>
</div>

<autocomplete [items]="allIngredients" (selectItem)="addIngredient($event)" (newItem)="createNewIngredient($event)">
</autocomplete>


<div class="my-8 text-center">
    @if (isEdition) {
    <button class="bg-blue-500 text-white px-2 py-1 rounded" (click)="save()">Modifier le repas</button>
    } @else {
    <button class="bg-blue-500 text-white px-2 py-1 rounded" (click)="save()">Ajouter le repas</button>
    }
</div>

@if (successMessage) {
<div class="mt-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative" role="alert">
    <span class="block sm:inline">{{ successMessage }}</span>
</div>
}