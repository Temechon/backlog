<h1 class="font-semibold text-2xl mb-12">
    Liste des courses
</h1>

<div class="mb-8">
    <autocomplete placeholder="Ajouter une course ?"></autocomplete>
</div>

@if (ingredients$ | async; as ingredients) {

@for (group of ingredients; track $index) {
<div class="mb-4 border rounded-lg shadow-sm">
    <div class="bg-indigo-50 p-2 text-indigo-400 cursor-pointer flex items-center justify-between"
        (click)="toggleAccordion($index)">
        <span class="font-semibold text-lg">{{group.shopCategory | capitalizeSpaces}}</span>
        <i class="transition-transform duration-300"
            [ngClass]="accordionState[$index] ? 'fas fa-chevron-down' : 'fas fa-chevron-down rotate-180'"></i>
    </div>
    @if (accordionState[$index]) {
    <div class="mt-2 p-2">
        @for (ingredient of group.ingredients; track $index) {
        <div class="px-4">
            <label class="inline-flex items-center my-0.5">
                <input type="checkbox" class="text-red-500 rounded w-5 h-5 focus:ring-red-300">
                <span class="ml-2">{{ingredient.name}}</span>
            </label>
        </div>
        }
    </div>
    }
</div>
}

}